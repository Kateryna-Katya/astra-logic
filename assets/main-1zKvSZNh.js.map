{"version":3,"file":"main-1zKvSZNh.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ИНИЦИАЛИЗАЦИЯ GSAP И LENIS\n    gsap.registerPlugin(ScrollTrigger);\n\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smooth: true,\n    });\n\n    lenis.on('scroll', ScrollTrigger.update);\n    gsap.ticker.add((time) => {\n        lenis.raf(time * 1000);\n    });\n    gsap.ticker.lagSmoothing(0);\n\n    // ==========================================\n    // 2. АНИМАЦИЯ HERO (БЕЗ КОНФЛИКТОВ)\n    // ==========================================\n    const heroTl = gsap.timeline({\n        defaults: { ease: 'power3.out', duration: 1 }\n    });\n\n    // Принудительно делаем элементы видимыми (чтобы не прятались навсегда)\n    gsap.set(['.hero__title', '.fade-in', '.hero__visual'], { autoAlpha: 1 });\n\n    heroTl\n        .from('.hero__title', {\n            y: 50,\n            opacity: 0,\n            duration: 1.2\n        })\n        // Анимируем все .fade-in, КРОМЕ .hero__visual (чтобы избежать двойной анимации)\n        .from('.fade-in:not(.hero__visual)', {\n            y: 30,\n            opacity: 0,\n            stagger: 0.2\n        }, \"-=0.8\")\n        // Анимируем отдельно визуал\n        .from('.hero__visual', {\n            scale: 0.9,\n            opacity: 0,\n            duration: 1.2\n        }, \"-=1\");\n\n    // ==========================================\n    // 3. АНИМАЦИИ ПРИ СКРОЛЛЕ (REVEAL)\n    // ==========================================\n    const animateOnScroll = (selector, props) => {\n        gsap.utils.toArray(selector).forEach(el => {\n            gsap.set(el, { autoAlpha: 1 });\n            gsap.from(el, {\n                ...props,\n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 85%\",\n                    toggleActions: \"play none none reverse\"\n                }\n            });\n        });\n    };\n\n    animateOnScroll('.reveal-up', { y: 50, opacity: 0, duration: 1 });\n    animateOnScroll('.reveal-left', { x: -60, opacity: 0, duration: 1 });\n    animateOnScroll('.reveal-right', { x: 60, opacity: 0, duration: 1 });\n    animateOnScroll('.reveal-text', { y: 30, opacity: 0, duration: 0.8 });\n\n    // ==========================================\n    // 4. АНИМАЦИЯ ЧИСЕЛ (STATS)\n    // ==========================================\n    const counters = document.querySelectorAll('.stat-num');\n    counters.forEach(counter => {\n        const target = +counter.getAttribute('data-count');\n        const obj = { val: 0 };\n\n        ScrollTrigger.create({\n            trigger: counter,\n            start: \"top 95%\",\n            onEnter: () => {\n                gsap.to(obj, {\n                    val: target,\n                    duration: 2,\n                    ease: \"power2.out\",\n                    onUpdate: () => {\n                        counter.innerText = Math.ceil(obj.val);\n                    }\n                });\n            }\n        });\n    });\n\n    // ==========================================\n    // 5. ЛОГИКА МОБИЛЬНОГО МЕНЮ\n    // ==========================================\n    const burger = document.getElementById('burger-btn');\n    const nav = document.getElementById('nav-menu');\n    const links = document.querySelectorAll('.header__link');\n\n    if (burger) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('active');\n            nav.classList.toggle('open');\n            document.body.classList.toggle('no-scroll');\n        });\n\n        // Закрываем меню при клике на ссылку\n        links.forEach(link => {\n            link.addEventListener('click', () => {\n                burger.classList.remove('active');\n                nav.classList.remove('open');\n                document.body.classList.remove('no-scroll');\n            });\n        });\n    }\n\n    // ==========================================\n    // 6. ЛОГИКА ФОРМЫ (ВАЛИДАЦИЯ + КАПЧА)\n    // ==========================================\n    const form = document.getElementById('leadForm');\n    if (form) {\n        const captchaLabel = document.getElementById('captchaLabel');\n        const captchaInput = document.getElementById('captchaInput');\n        let captchaResult = 0;\n\n        // Генерация капчи\n        function initCaptcha() {\n            const num1 = Math.floor(Math.random() * 10);\n            const num2 = Math.floor(Math.random() * 10);\n            captchaResult = num1 + num2;\n            if(captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n            if(captchaInput) captchaInput.value = '';\n        }\n        initCaptcha();\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            let isValid = true;\n            \n            // Сброс ошибок\n            form.querySelectorAll('.form-group').forEach(el => el.classList.remove('error'));\n\n            const name = document.getElementById('name');\n            const email = document.getElementById('email');\n            const phone = document.getElementById('phone');\n\n            // Проверка Имени\n            if(name.value.trim().length < 2) { \n                name.parentElement.classList.add('error'); \n                isValid = false; \n            }\n            \n            // Проверка Email\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if(!emailRegex.test(email.value)) { \n                email.parentElement.classList.add('error'); \n                isValid = false; \n            }\n\n            // Проверка Телефона (минимум 8 цифр)\n            const phoneRegex = /^[0-9+\\s()]{8,}$/;\n            if(!phoneRegex.test(phone.value)) { \n                phone.parentElement.classList.add('error'); \n                isValid = false; \n            }\n\n            // Проверка Капчи\n            if(parseInt(captchaInput.value) !== captchaResult) {\n                captchaInput.parentElement.classList.add('error');\n                isValid = false;\n                initCaptcha(); // Обновляем при ошибке\n            }\n\n            // Если всё ок\n            if(isValid) {\n                const btn = form.querySelector('button');\n                btn.classList.add('loading'); // Добавляем класс для спиннера\n\n                // Имитация отправки\n                setTimeout(() => {\n                    btn.classList.remove('loading');\n                    const successMsg = document.getElementById('formSuccess');\n                    if(successMsg) successMsg.classList.add('visible');\n                    form.reset();\n                    initCaptcha();\n                }, 2000);\n            }\n        });\n    }\n\n    // ==========================================\n    // 7. ДОПОЛНИТЕЛЬНЫЕ ЭФФЕКТЫ\n    // ==========================================\n    \n    // Пересчет ScrollTrigger после полной загрузки страницы\n    window.addEventListener('load', () => {\n        ScrollTrigger.refresh();\n    });\n\n    // Cookie Popup\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookie = document.getElementById('acceptCookie');\n\n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => { cookiePopup.classList.add('show'); }, 2000);\n    }\n\n    if (acceptCookie) {\n        acceptCookie.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('show');\n        });\n    }\n});"],"names":["lenis","t","time","heroTl","animateOnScroll","selector","props","el","counter","target","obj","burger","nav","links","link","form","initCaptcha","num1","num2","captchaResult","captchaLabel","captchaInput","e","isValid","name","email","phone","btn","successMsg","cookiePopup","acceptCookie"],"mappings":"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"}