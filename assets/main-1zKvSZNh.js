(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))p(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&p(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function p(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);const g=new Lenis({duration:1.2,easing:o=>Math.min(1,1.001-Math.pow(2,-10*o)),smooth:!0});g.on("scroll",ScrollTrigger.update),gsap.ticker.add(o=>{g.raf(o*1e3)}),gsap.ticker.lagSmoothing(0);const c=gsap.timeline({defaults:{ease:"power3.out",duration:1}});gsap.set([".hero__title",".fade-in",".hero__visual"],{autoAlpha:1}),c.from(".hero__title",{y:50,opacity:0,duration:1.2}).from(".fade-in:not(.hero__visual)",{y:30,opacity:0,stagger:.2},"-=0.8").from(".hero__visual",{scale:.9,opacity:0,duration:1.2},"-=1");const a=(o,s)=>{gsap.utils.toArray(o).forEach(r=>{gsap.set(r,{autoAlpha:1}),gsap.from(r,{...s,scrollTrigger:{trigger:r,start:"top 85%",toggleActions:"play none none reverse"}})})};a(".reveal-up",{y:50,opacity:0,duration:1}),a(".reveal-left",{x:-60,opacity:0,duration:1}),a(".reveal-right",{x:60,opacity:0,duration:1}),a(".reveal-text",{y:30,opacity:0,duration:.8}),document.querySelectorAll(".stat-num").forEach(o=>{const s=+o.getAttribute("data-count"),r={val:0};ScrollTrigger.create({trigger:o,start:"top 95%",onEnter:()=>{gsap.to(r,{val:s,duration:2,ease:"power2.out",onUpdate:()=>{o.innerText=Math.ceil(r.val)}})}})});const e=document.getElementById("burger-btn"),t=document.getElementById("nav-menu"),i=document.querySelectorAll(".header__link");e&&(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("open"),document.body.classList.toggle("no-scroll")}),i.forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("open"),document.body.classList.remove("no-scroll")})}));const l=document.getElementById("leadForm");if(l){let d=function(){const u=Math.floor(Math.random()*10),n=Math.floor(Math.random()*10);r=u+n,o&&(o.textContent=`Сколько будет ${u} + ${n}?`),s&&(s.value="")};var I=d;const o=document.getElementById("captchaLabel"),s=document.getElementById("captchaInput");let r=0;d(),l.addEventListener("submit",u=>{u.preventDefault();let n=!0;l.querySelectorAll(".form-group").forEach(m=>m.classList.remove("error"));const y=document.getElementById("name"),v=document.getElementById("email"),L=document.getElementById("phone");if(y.value.trim().length<2&&(y.parentElement.classList.add("error"),n=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.value)||(v.parentElement.classList.add("error"),n=!1),/^[0-9+\s()]{8,}$/.test(L.value)||(L.parentElement.classList.add("error"),n=!1),parseInt(s.value)!==r&&(s.parentElement.classList.add("error"),n=!1,d()),n){const m=l.querySelector("button");m.classList.add("loading"),setTimeout(()=>{m.classList.remove("loading");const E=document.getElementById("formSuccess");E&&E.classList.add("visible"),l.reset(),d()},2e3)}})}window.addEventListener("load",()=>{ScrollTrigger.refresh()});const f=document.getElementById("cookiePopup"),h=document.getElementById("acceptCookie");f&&!localStorage.getItem("cookiesAccepted")&&setTimeout(()=>{f.classList.add("show")},2e3),h&&h.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),f.classList.remove("show")})});
//# sourceMappingURL=main-1zKvSZNh.js.map
